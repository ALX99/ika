ika:
  gracefulShutdownTimeout: 1s
  logger:
    level: debug
    format: text
    # addSource: true

servers:
  - addr: :8888

namespaces:
  httpbun:
    mounts:
      - httpbun.dozy.dev
      - ""
    transport:
      maxIdleConnsPerHost: 250
    hooks:
      - name: tracer
      - name: request-id
      - name: access-log
        config:
          headers: [X-Request-ID]
    reqModifiers:
      - name: req-modifier
        config:
          host: https://httpbun.com
    routes:
      /: {}
      /auth:
        middlewares:
          - name: basic-auth
            config:
              incoming:
                credentials:
                  - name: demo-user
                    username: user
                    password: pass

  go.dozy.dev:
    mounts:
      - go.dozy.dev
    hooks:
      - name: tracer
      - name: request-id
      - name: access-log
        config:
          headers: [X-Request-ID]
    reqModifiers:
      - name: req-modifier
        config:
          host: https://go.dev
    routes:
      /: {}
